{% extends 'file/base.html' %}
{% block title %}new file form{% endblock title %}
{% load static %}

{% block content %}
<div class="box m-5">
    <form method="post">
        {% csrf_token %}    
        <div class="field">
            <div class="select is-primary">
                <select name="file_type" id="id_type" onchange="rent_select(this)">
                    <option id="sell" value="sell">فروش</option>
                    <option id="rent" value="rent">اجاره</option>
                </select>
            </div>
            <div class="select mr-3">
                <select name="property_type" id="id_type">
                    <option value="A" selected="">آپارتمان</option>
                    <option value="L">زمین</option>
                    <option value="S">مغازه</option>
                </select>
            </div>    
        </div>
        <div class="field">
        <label class="label">نام مشتری:</label>
            <input class="input is-small" type="text" name="customer_name" maxlength="150" required="" id="id_customer_name">
        </div>
        <div class="field">
        <label class="label">شماره مشتری:</label>
            <input class="input is-small" type="text" name="customer_phone" maxlength="12" required="" id="id_customer_phone">
        </div>
        <div class="field sell_cusotmer" id="sell_customer">
        <label class="label">بودجه:</label>
            <input type="number" name="budget" class="input" id="id_budget">
        </div>
        <div class="field rent_customer" id="rent_customer" style="display: none;">
            <label class="label">ودیعه:</label>
                <input type="number" name="budget_up" class="input" id="id_budget_up">
            <label class="label">اجاره:</label>
                <input type="number" name="budget_rent" class="input" id="id_budget_rent">
        </div>
        <div class="columns">
            <div class="column">
                <button class="button is-primary mt-5 ml-0 is-pulled-left is-medium">Submit</button>
            </div>
        </div>
    </form>
</div>

<script>
    function rent_select(evt){
        if (evt){
            const rentOption = document.getElementById('rent').value;
            if (rentOption == evt.value){
                document.getElementById('sell_customer').style.display = 'none';
                document.getElementById('rent_customer').style.display = 'block';
            } else{
                document.getElementById('rent_customer').style.display = 'none';
                document.getElementById('sell_customer').style.display = 'block';
            }
        }
    }
</script>
{% endblock content %}

